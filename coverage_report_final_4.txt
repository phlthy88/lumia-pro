
> lumina-studio-pro-v3.0@1.0.0 test:coverage
> vitest --coverage


[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90m/app[39m
      [2mCoverage enabled with [22m[33mv8[39m

[90mstderr[2m | src/hooks/__tests__/recording.integration.test.ts[2m > [22m[2mRecording Workflow Integration[2m > [22m[2mshould handle recording errors gracefully
[22m[39mMediaRecorder error

 [31mâ¯[39m src/hooks/__tests__/recording.integration.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 67[2mms[22m[39m
[31m     [31mÃ—[31m should record video, process data, and save blob[39m[32m 53[2mms[22m[39m
     [32mâœ“[39m should handle recording errors gracefully[32m 9[2mms[22m[39m
Error: Uncaught [Error: useRecordingContext must be used within RecordingController]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: useRecordingContext must be used within RecordingController
    at useRecordingContext (/app/src/controllers/RecordingController.tsx:98:23)
    at TestChild (/app/src/controllers/__tests__/RecordingController.comprehensive.test.tsx:109:7)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
Error: Uncaught [Error: useRecordingContext must be used within RecordingController]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: useRecordingContext must be used within RecordingController
    at useRecordingContext (/app/src/controllers/RecordingController.tsx:98:23)
    at TestChild (/app/src/controllers/__tests__/RecordingController.comprehensive.test.tsx:109:7)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
[90mstderr[2m | src/controllers/__tests__/RecordingController.comprehensive.test.tsx[2m > [22m[2mRecordingController[2m > [22m[2mthrows error when useRecordingContext used outside provider
[22m[39mThe above error occurred in the <TestChild> component:

    at TestChild (/app/src/controllers/__tests__/RecordingController.comprehensive.test.tsx:108:7)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 [32mâœ“[39m src/controllers/__tests__/RecordingController.comprehensive.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 1458[2mms[22m[39m
     [33m[2mâœ“[22m[39m provides recording context to children [33m 1385[2mms[22m[39m
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error message]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error message
    at ThrowError (/app/src/components/__tests__/ErrorBoundary.test.tsx:15:11)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
 [32mâœ“[39m src/components/__tests__/ErrorBoundary.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 1424[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows Try Again button [33m 345[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/ErrorScreen.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 886[2mms[22m[39m
     [33m[2mâœ“[22m[39m shows correct action button text for each mode [33m 313[2mms[22m[39m
[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mdetects dark scenes and suggests exposure boost
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mdetects overexposed scenes
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mdetects low contrast (flat image)
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mdetects warm (orange) color cast
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mdetects cool (blue) color cast
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mhandles face detection results
[22m[39m[AIAnalysisService] faceLandmarks length: [33m1[39m sample point: { x: [33m0.5[39m, y: [33m0.4[39m, z: [33m0[39m }

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mdetects off-center face
[22m[39m[AIAnalysisService] faceLandmarks length: [33m1[39m sample point: { x: [33m0.1[39m, y: [33m0.4[39m, z: [33m0[39m }

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mdetects incorrect headroom
[22m[39m[AIAnalysisService] faceLandmarks length: [33m1[39m sample point: { x: [33m0.5[39m, y: [33m0.8[39m, z: [33m0[39m }

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mhandles no face detected
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mhandles empty face landmarks array
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mreturns overall score
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyze[2m > [22m[2mlimits tips to 3
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyzeWithRateLimit[2m > [22m[2mdebounces rapid calls
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyzeWithRateLimit[2m > [22m[2mthrottles to max once per 2 seconds
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyzeWithRateLimit[2m > [22m[2mallows analysis after throttle period
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyzeWithRateLimit[2m > [22m[2mallows analysis after throttle period
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2manalyzeWithRateLimit[2m > [22m[2mcancels previous debounce on new call
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2mscore calculations[2m > [22m[2mcalculates exposure score based on luma
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2mscore calculations[2m > [22m[2mcalculates exposure score based on luma
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2mscore calculations[2m > [22m[2mcalculates focus score based on face detection
[22m[39m[AIAnalysisService] faceLandmarks length: [33m1[39m sample point: { x: [33m0.5[39m, y: [33m0.4[39m, z: [33m0[39m }

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2mscore calculations[2m > [22m[2mcalculates focus score based on face detection
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2mauto params[2m > [22m[2msuggests shadows boost for dark images
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2mauto params[2m > [22m[2msuggests highlights reduction for bright images
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

[90mstdout[2m | src/services/__tests__/AIAnalysisService.test.ts[2m > [22m[2mAIAnalysisService[2m > [22m[2mauto params[2m > [22m[2msuggests blacks adjustment for flat images
[22m[39m[AIAnalysisService] faceLandmarks length: [33m0[39m sample point: [90mundefined[39m

 [32mâœ“[39m src/services/__tests__/AIAnalysisService.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 209[2mms[22m[39m
 [32mâœ“[39m src/test/ErrorBoundary.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 190[2mms[22m[39m
[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles permission denied error
[22m[39m[Camera] Failed at 1920x1080, trying lower resolution

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles permission denied error
[22m[39m[Camera] Failed at 1280x720, trying lower resolution

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles permission denied error
[22m[39m[Camera] Failed at 640x480, trying lower resolution

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles permission denied error
[22m[39mStream error DOMException {}

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles camera not found error
[22m[39m[Camera] Failed at 1920x1080, trying lower resolution

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles camera not found error
[22m[39m[Camera] Failed at 1280x720, trying lower resolution

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles camera not found error
[22m[39m[Camera] Failed at 640x480, trying lower resolution

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles camera not found error
[22m[39mStream error DOMException {}

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles camera not found error
[22m[39m[Camera] Failed at 1920x1080, trying lower resolution

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles camera not found error
[22m[39m[Camera] Failed at 1280x720, trying lower resolution

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles camera not found error
[22m[39m[Camera] Failed at 640x480, trying lower resolution

[90mstderr[2m | src/hooks/__tests__/useCameraStream.test.ts[2m > [22m[2museCameraStream[2m > [22m[2mhandles camera not found error
[22m[39mStream error DOMException {}

 [32mâœ“[39m src/hooks/__tests__/useCameraStream.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 159[2mms[22m[39m
 [32mâœ“[39m src/hooks/__tests__/useColorGrading.comprehensive.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 152[2mms[22m[39m
Error: Uncaught [Error: usePerformanceModeContext must be used within a PerformanceModeProvider]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: usePerformanceModeContext must be used within a PerformanceModeProvider
    at usePerformanceModeContext (/app/src/providers/PerformanceModeProvider.tsx:52:11)
    at TestOutside (/app/src/providers/__tests__/PerformanceModeProvider.test.tsx:70:7)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
Error: Uncaught [Error: usePerformanceModeContext must be used within a PerformanceModeProvider]
    at reportException (/app/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/app/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/app/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/app/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/app/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: usePerformanceModeContext must be used within a PerformanceModeProvider
    at usePerformanceModeContext (/app/src/providers/PerformanceModeProvider.tsx:52:11)
    at TestOutside (/app/src/providers/__tests__/PerformanceModeProvider.test.tsx:70:7)
    at renderWithHooks (/app/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/app/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/app/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/app/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/app/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/app/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
[90mstderr[2m | src/providers/__tests__/PerformanceModeProvider.test.tsx[2m > [22m[2mPerformanceModeProvider[2m > [22m[2mthrows error when used outside provider
[22m[39mThe above error occurred in the <TestOutside> component:

    at TestOutside (/app/src/providers/__tests__/PerformanceModeProvider.test.tsx:101:58)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 [32mâœ“[39m src/providers/__tests__/PerformanceModeProvider.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[32m 113[2mms[22m[39m
 [32mâœ“[39m src/engine/__tests__/GLRenderer.comprehensive.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 93[2mms[22m[39m
 [32mâœ“[39m src/hooks/__tests__/usePersistedState.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 71[2mms[22m[39m
[90mstderr[2m | src/services/__tests__/VirtualCameraService.comprehensive.test.ts[2m > [22m[2mVirtualCameraService - Comprehensive[2m > [22m[2mstart[2m > [22m[2mreturns null when canvas not initialized
[22m[39mVirtual camera not supported or not initialized

 [32mâœ“[39m src/services/__tests__/VirtualCameraService.comprehensive.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 68[2mms[22m[39m
[90mstderr[2m | src/hooks/__tests__/useRecorder.hook.test.ts[2m > [22m[2museRecorder hook[2m > [22m[2minitializes with default state
[22m[39mWarning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/app/node_modules/@testing-library/react/dist/pure.js:329:5)

[90mstderr[2m | src/hooks/__tests__/useRecorder.hook.test.ts[2m > [22m[2museRecorder hook[2m > [22m[2mexposes recording control functions
[22m[39mWarning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/app/node_modules/@testing-library/react/dist/pure.js:329:5)

[90mstderr[2m | src/hooks/__tests__/useRecorder.hook.test.ts[2m > [22m[2museRecorder hook[2m > [22m[2mexposes media items array
[22m[39mWarning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/app/node_modules/@testing-library/react/dist/pure.js:329:5)

[90mstderr[2m | src/hooks/__tests__/useRecorder.hook.test.ts[2m > [22m[2museRecorder hook[2m > [22m[2muses provided targetFPS
[22m[39mWarning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/app/node_modules/@testing-library/react/dist/pure.js:329:5)

[90mstderr[2m | src/hooks/__tests__/useRecorder.hook.test.ts[2m > [22m[2museRecorder snapshot[2m > [22m[2mtakeScreenshot returns without error when canvas exists
[22m[39mWarning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/app/node_modules/@testing-library/react/dist/pure.js:329:5)

 [32mâœ“[39m src/hooks/__tests__/useRecorder.hook.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [32mâœ“[39m src/hooks/__tests__/useColorGrading.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 61[2mms[22m[39m
[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mgenerateIdentity[2m > [22m[2mgenerates identity LUT with default size
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mgenerateIdentity[2m > [22m[2mgenerates identity LUT with custom size
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mgenerateIdentity[2m > [22m[2midentity LUT has correct values at corners
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mgenerateTealOrange[2m > [22m[2mgenerates teal/orange LUT with default size
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mgenerateTealOrange[2m > [22m[2mgenerates teal/orange LUT with custom size
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mgenerateTealOrange[2m > [22m[2mteal/orange LUT modifies colors
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mparseCube[2m > [22m[2mparses valid .cube file
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mparseCube[2m > [22m[2mignores comment lines
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mparseCube[2m > [22m[2mthrows error when LUT_3D_SIZE missing
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mparseCube[2m > [22m[2mhandles whitespace in values
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mloadFromUrl[2m > [22m[2mloads LUT from URL
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mloadFromUrl[2m > [22m[2mthrows error on fetch failure
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mloadCached[2m > [22m[2mcaches loaded LUTs
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mloadCached[2m > [22m[2mcaches loaded LUTs
[22m[39m[LutService] Cached Test (1/5)

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mloadCached[2m > [22m[2mreturns cached LUT on second call
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mloadCached[2m > [22m[2mreturns cached LUT on second call
[22m[39m[LutService] Cached Test (1/5)

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mclearCache[2m > [22m[2mclears all cached LUTs
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mclearCache[2m > [22m[2mclears all cached LUTs
[22m[39m[LutService] Cached Test (1/5)

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mclearCache[2m > [22m[2mclears all cached LUTs
[22m[39m[LutService] Cache cleared

[90mstdout[2m | src/services/__tests__/LutService.comprehensive.test.ts[2m > [22m[2mLutService[2m > [22m[2mgetCacheSize[2m > [22m[2mreturns current cache size
[22m[39m[LutService] Cache cleared

 [32mâœ“[39m src/services/__tests__/LutService.comprehensive.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m src/test/RecorderFPS.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 51[2mms[22m[39m
[90mstdout[2m | src/engine/__tests__/GLRenderer.integration.test.ts[2m > [22m[2mGLRenderer Integration[2m > [22m[2mshould apply LUT to live camera stream and render
[22m[39m[GLRenderer] GPU Tier: mid {
  resolutionScale: [33m1[39m,
  lutSize: [33m32[39m,
  precision: [32m'highp'[39m,
  maxLights: [33m2[39m,
  shadows: [33mfalse[39m
}

[90mstdout[2m | src/engine/__tests__/GLRenderer.integration.test.ts[2m > [22m[2mGLRenderer Integration[2m > [22m[2mshould dispose resources correctly
[22m[39m[GLRenderer] GPU Tier: mid {
  resolutionScale: [33m1[39m,
  lutSize: [33m32[39m,
  precision: [32m'highp'[39m,
  maxLights: [33m2[39m,
  shadows: [33mfalse[39m
}

 [32mâœ“[39m src/engine/__tests__/GLRenderer.integration.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m src/controllers/__tests__/RecordingController.test.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 45[2mms[22m[39m
[90mstdout[2m | src/engine/__tests__/GLRenderer.dispose.test.ts[2m > [22m[2mGLRenderer disposal[2m > [22m[2mhandles dispose without throwing
[22m[39m[GLRenderer] GPU Tier: mid {
  resolutionScale: [33m1[39m,
  lutSize: [33m32[39m,
  precision: [32m'highp'[39m,
  maxLights: [33m2[39m,
  shadows: [33mfalse[39m
}

 [32mâœ“[39m src/engine/__tests__/GLRenderer.dispose.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m src/engine/__tests__/GLRenderer.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 31[2mms[22m[39m
[90mstderr[2m | src/services/__tests__/OffscreenCanvasService.test.ts[2m > [22m[2mOffscreenCanvasService[2m > [22m[2misSupported[2m > [22m[2mshould return false when OffscreenCanvas throws error
[22m[39mOffscreenCanvas not supported: Error: Not supported
    at new MockOffscreenCanvas [90m(/app/[39msrc/services/__tests__/OffscreenCanvasService.test.ts:44:15[90m)[39m
    at Function.isSupported [90m(/app/[39msrc/services/OffscreenCanvasService.ts:32:22[90m)[39m
    at [90m/app/[39msrc/services/__tests__/OffscreenCanvasService.test.ts:50:37
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1206:10[90m)[39m
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1650:37
    at Traces.$ [90m(file:///app/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.U4xDYhzZ.js:115:27[90m)[39m

[90mstderr[2m | src/services/__tests__/OffscreenCanvasService.test.ts[2m > [22m[2mOffscreenCanvasService[2m > [22m[2mgetContext[2m > [22m[2mshould return null when getContext throws
[22m[39mFailed to get 2d context: Error: Context not supported
    at Object.<anonymous> [90m(/app/[39msrc/services/__tests__/OffscreenCanvasService.test.ts:91:17[90m)[39m
    at Object.Mock [as getContext] [90m(file:///app/[39mnode_modules/[4m@vitest/spy[24m/dist/index.js:285:34[90m)[39m
    at Function.getContext [90m(/app/[39msrc/services/OffscreenCanvasService.ts:70:26[90m)[39m
    at [90m/app/[39msrc/services/__tests__/OffscreenCanvasService.test.ts:95:45
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1206:10[90m)[39m
    at [90mfile:///app/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1650:37

 [32mâœ“[39m src/services/__tests__/OffscreenCanvasService.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/services/__tests__/LutService.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 31[2mms[22m[39m
[90mstderr[2m | src/services/__tests__/VirtualCameraService.test.ts[2m > [22m[2mVirtualCameraService[2m > [22m[2mstart[2m > [22m[2mreturns null when not initialized
[22m[39mVirtual camera not supported or not initialized

 [32mâœ“[39m src/services/__tests__/VirtualCameraService.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/engine/__tests__/AdaptiveQuality.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/engine/__tests__/shaders.compile.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 29[2mms[22m[39m
[90mstderr[2m | src/services/__tests__/VirtualCameraService.dispose.test.ts[2m > [22m[2mVirtualCameraService disposal[2m > [22m[2mresets state after dispose
[22m[39mVirtual camera not supported or not initialized

 [32mâœ“[39m src/services/__tests__/VirtualCameraService.dispose.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/hooks/__tests__/useRecorder.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m src/providers/__tests__/EventBus.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/config/__tests__/features.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/services/__tests__/UndoRedoService.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m src/config/__tests__/env.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m src/test/GPUCapabilities.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/services/__tests__/AIAnalysisService.dispose.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/config/__tests__/csp.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/services/__tests__/PermissionManager.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/test/features.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/controllers/__tests__/CameraController.singleStream.test.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/controllers/__tests__/AIController.test.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/controllers/__tests__/RenderController.test.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 17[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/hooks/__tests__/recording.integration.test.ts[2m > [22mRecording Workflow Integration[2m > [22mshould record video, process data, and save blob
[31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
[36m [2mâ¯[22m src/hooks/__tests__/recording.integration.test.ts:[2m153:34[22m[39m
    [90m151| [39m    [35mif[39m (saveCall) {
    [90m152| [39m      [34mexpect[39m(saveCall[33m.[39mblob[33m.[39mtype)[33m.[39m[34mtoBe[39m([32m'video/webm'[39m)[33m;[39m
    [90m153| [39m      [34mexpect[39m(saveCall[33m.[39mblob[33m.[39msize)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m154| [39m    }
    [90m155| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/1]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m38 passed[39m[22m[90m (39)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m334 passed[39m[22m[90m (335)[39m
[2m   Start at [22m 21:56:13
[2m   Duration [22m 86.73s[2m (transform 1.14s, setup 3.58s, import 39.99s, tests 5.72s, environment 24.77s)[22m
