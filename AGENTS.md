# AGENTS.md

## Essential Commands
- **Build**: `npm run build` (Vite production build)
- **Dev**: `npm run dev` (Vite development server)
- **Test**: `npm run test` (Vite test runner)
- **Test UI**: `npm run test:ui` (Vitest UI)
- **Test Coverage**: `npm run test:coverage`
- **Load Testing**: `npm run test:load` (k6 stress test)

## Code Organization
- **Root**: `src/` contains all source code
- **Config**: `src/config/` (project settings)
- **Engine**: `src/engine/` (core rendering logic)
- **Services**: `src/services/` (data handling)
- **Components**: `src/components/` (UI elements)
- **Beauty**: `src/beauty/` (visual effects)
- **Hooks**: `src/hooks/` (custom React hooks)

## Naming Conventions
- **Components**: PascalCase (e.g., `MaskGenerator.ts`)
- **Hooks**: `use[Feature]` (e.g., `useMidi.ts`, `useRecorder.ts`)
- **Files**: `.ts`/`.tsx` extensions for TypeScript files
- **Variables**: camelCase (e.g., `input`, `output`)

## Testing Approach
- **Unit Tests**: Vitest with `@testing-library/react`
- **UI Tests**: Vitest UI mode for visual testing
- **Coverage**: `npm run test:coverage`
- **Load Testing**: k6 for performance testing
- **CI**: GitHub Actions workflows in `.github/workflows/`

## Gotchas
- **TypeScript**: Strict mode enabled (`tsconfig.json`)
- **ESLint**: `.eslintrc` enforces style rules
- **Vite**: Uses Vite plugins for React, PWA, and TypeScript
- **Dependencies**: Pinned versions in `package.json`
- **Binary Files**: `public/` contains static assets (images, models)

## Project-Specific Context
- **Tech Stack**: React 19, TypeScript, Vite, Material UI, Emotion
- **Rendering**: Uses MediaPipe for vision tasks
- **Testing**: Playwright for end-to-end tests in `e2e/`
- **CI/CD**: GitHub Actions for testing and deployment
- **Documentation**: `docs/` contains release and RFC guides

## Additional Resources
- **README.md**: Project overview and setup
- **LICENSE**: MIT license
- **package.json**: Dependencies and scripts
- **tsconfig.json**: TypeScript configuration

---
**Generated by Crush** | [GitHub](https://github.com/user/lumia-pro)